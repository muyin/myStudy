## vim常见用法

### 一 vim快捷移动
1. 行内移动
    + w:光标到下一个单词开头
    + b:光标跳到上一个单词开头
    + e:光标跳到下一个单词末尾

### 编辑
1. 改变字母的大小写
    + ~ 将光标下的字母改变大小写
    + U 将可视模式下选择的字母全改成大写字母
    + u 将可视模式下选择的字母全改成小写字母
    + gUU 将当前行的字母全改成大写
    + guu 将当前行的字母全改成小写
    + gUw 将光标下的单词改成大写
    + guw 将光标下的单词改成小写

### 查找替换
1. 查找

    在normal模式下按下/即可进入查找模式，输入要查找的字符串并按下回车。vim会跳转到第一个匹配。按下n查找下一个，按下N查找上一个。  
    vim查找支持正则表达式，例如 `/vim$` 匹配行尾的"vim"字符串。需要查找特殊字符需要转义，例如 `/vim\$`配置"vim$"

2. 大小写敏感配置

    在查找模式中加入`\c`表示大小写不敏感查找，`\C`表示大小写敏感查找。  
    例如：`/foo\c` 将会查找"foo","FOO","Foo"等字符串

3. 大小写敏感配置

    vim默认采用大小写敏感的查找，为了方便我们，常常将其配置为大小写不敏感。在~/.vimrc中配置：  
    ```bash
        set ignorecase  " 设置默认进行大小写不敏感查找  
        set smartcase   " 如果有一个大写字母，则切换到大小写敏感查找  
    ```
4. 查找当前单词

    在normal模式下按下*即可查找光标所在单词(word)，要求每次出现的前后位空白字符或标点符号。这在查找函数名、变量名是非常有用。

5. 查找替换

    `:s` (substitute)命令用例查找和替换字符串。  
    语法：`{作用范围}s/{目标值}/{替换值}/{替换标志}`   
    例如: `:%s/foo/bar/g`会在全局范围(%)查找foo,并替换为bar,所有出现都会被替换(g)

6. 作用范围

    作用范围分为当前行、全文、选区，指定行数等  
    当前行： `:s/foo/bar/g`  
    全文： `%s/foo/bar/g`  
    选区： `:'<,'>s/foo/bar/g`  
      > 在Visual模式下选择区域后输入:,vim即可自动补全为` :'<,'> `  

    指定行数，如2-11行：`:5,12s/foo/bar/g`  
    当前行 . 与接下来的两行 +2 : `:.,+2s/foo/bar/g`

7. 替换标志

    + 空替换标志表示只替换从光标位置开始，目标的第一次出现： `:%s/foo/bar`
    + i 表示大小写不敏感查找， I 表示大小写敏感： `:%s/foo/bar/i`
    + c 表示需要确认： `:%s/foo/bar/gc` (回车后vim会将光标移动到每一次foo出现的位置，并在替换前确定怎么操作)